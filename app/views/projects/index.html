{% extends "layouts/base.html" %}
{% block title %}Projetos · Tasker{% endblock %}

{% block content %}
<section class="hero container">
  <h1 class="hero-title">Seus Projetos</h1>

  <form class="hero-action" method="post" action="{{ url_for('projects.list_projects') }}">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <input class="input" name="name" placeholder="Nome do novo projeto" required>
    <button class="primary-btn">Criar projeto</button>
  </form>
</section>

<section class="container">
  <div class="column" style="padding:0">
    <div class="column-head" style="padding:12px 16px">
      <span>Nome</span>
      <span class="text-muted">Ações</span>
    </div>

    <ul class="list-group list-group-flush" style="border-radius: 18px;">
      {% for p in projects %}
      <li class="list-group-item d-flex align-items-center justify-content-between"
          style="background:var(--surface); border-color:var(--hairline); padding:14px 16px;">
        <div class="d-flex align-items-center gap-2">
          <span class="grip" aria-hidden="true">⋯</span>
          <strong>{{ p.name }}</strong>
        </div>
        <div class="d-flex gap-2">
          <a class="primary-btn" style="padding:.55rem .9rem; text-decoration:none;"
             href="/projects/{{ p.id }}">Abrir</a>
        </div>
      </li>
      {% else %}
      <li class="list-group-item" style="background:var(--surface); border-color:var(--hairline); padding:18px;">
        <span class="text-muted">Você ainda não tem projetos. Crie o primeiro acima.</span>
      </li>
      {% endfor %}
    </ul>
  </div>
</section>
{% endblock %}
